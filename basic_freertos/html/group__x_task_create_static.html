<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>My Project: xTaskCreateStatic</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('group__x_task_create_static.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">xTaskCreateStatic</div></div>
</div><!--header-->
<div class="contents">
<p>task. h </p><div class="fragment"><div class="line"><a class="code hl_struct" href="structtsk_task_control_block.html">TaskHandle_t</a> xTaskCreateStatic( <a class="code hl_typedef" href="projdefs_8h.html#a9b32502ff92c255c686dacde53c1cba0">TaskFunction_t</a> pxTaskCode,</div>
<div class="line">                              <span class="keyword">const</span> <span class="keywordtype">char</span> *pcName,</div>
<div class="line">                              uint32_t ulStackDepth,</div>
<div class="line">                              <span class="keywordtype">void</span> *pvParameters,</div>
<div class="line">                              <a class="code hl_typedef" href="portmacro_8h.html#a646f89d4298e4f5afd522202b11cb2e6">UBaseType_t</a> uxPriority,</div>
<div class="line">                              <a class="code hl_typedef" href="portmacro_8h.html#a84e9a8ba132feed0b2401c1f4e2ac63c">StackType_t</a> *puxStackBuffer,</div>
<div class="line">                              <a class="code hl_struct" href="structx_s_t_a_t_i_c___t_c_b.html">StaticTask_t</a> *pxTaskBuffer );</div>
<div class="ttc" id="aportmacro_8h_html_a646f89d4298e4f5afd522202b11cb2e6"><div class="ttname"><a href="portmacro_8h.html#a646f89d4298e4f5afd522202b11cb2e6">UBaseType_t</a></div><div class="ttdeci">unsigned long UBaseType_t</div><div class="ttdef"><b>Definition:</b> <a href="portmacro_8h_source.html#l00060">portmacro.h:60</a></div></div>
<div class="ttc" id="aportmacro_8h_html_a84e9a8ba132feed0b2401c1f4e2ac63c"><div class="ttname"><a href="portmacro_8h.html#a84e9a8ba132feed0b2401c1f4e2ac63c">StackType_t</a></div><div class="ttdeci">portSTACK_TYPE StackType_t</div><div class="ttdef"><b>Definition:</b> <a href="portmacro_8h_source.html#l00058">portmacro.h:58</a></div></div>
<div class="ttc" id="aprojdefs_8h_html_a9b32502ff92c255c686dacde53c1cba0"><div class="ttname"><a href="projdefs_8h.html#a9b32502ff92c255c686dacde53c1cba0">TaskFunction_t</a></div><div class="ttdeci">void(* TaskFunction_t)(void *)</div><div class="ttdef"><b>Definition:</b> <a href="projdefs_8h_source.html#l00036">projdefs.h:36</a></div></div>
<div class="ttc" id="astructtsk_task_control_block_html"><div class="ttname"><a href="structtsk_task_control_block.html">tskTaskControlBlock</a></div><div class="ttdef"><b>Definition:</b> <a href="_free_r_t_o_s__tasks_8c_source.html#l00254">FreeRTOS_tasks.c:255</a></div></div>
<div class="ttc" id="astructx_s_t_a_t_i_c___t_c_b_html"><div class="ttname"><a href="structx_s_t_a_t_i_c___t_c_b.html">xSTATIC_TCB</a></div><div class="ttdef"><b>Definition:</b> <a href="_free_r_t_o_s_8h_source.html#l01181">FreeRTOS.h:1182</a></div></div>
</div><!-- fragment --><p>Create a new task and add it to the list of tasks that are ready to run.</p>
<p>Internally, within the FreeRTOS implementation, tasks use two blocks of memory. The first block is used to hold the task's data structures. The second block is used by the task as its stack. If a task is created using xTaskCreate() then both blocks of memory are automatically dynamically allocated inside the xTaskCreate() function. (see <a href="https://www.FreeRTOS.org/a00111.html">https://www.FreeRTOS.org/a00111.html</a>). If a task is created using xTaskCreateStatic() then the application writer must provide the required memory. xTaskCreateStatic() therefore allows a task to be created without using any dynamic memory allocation.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pxTaskCode</td><td>Pointer to the task entry function. Tasks must be implemented to never return (i.e. continuous loop).</td></tr>
    <tr><td class="paramname">pcName</td><td>A descriptive name for the task. This is mainly used to facilitate debugging. The maximum length of the string is defined by configMAX_TASK_NAME_LEN in <a class="el" href="_free_r_t_o_s_config_8h.html">FreeRTOSConfig.h</a>.</td></tr>
    <tr><td class="paramname">ulStackDepth</td><td>The size of the task stack specified as the number of variables the stack can hold - not the number of bytes. For example, if the stack is 32-bits wide and ulStackDepth is defined as 100 then 400 bytes will be allocated for stack storage.</td></tr>
    <tr><td class="paramname">pvParameters</td><td>Pointer that will be used as the parameter for the task being created.</td></tr>
    <tr><td class="paramname">uxPriority</td><td>The priority at which the task will run.</td></tr>
    <tr><td class="paramname">puxStackBuffer</td><td>Must point to a StackType_t array that has at least ulStackDepth indexes - the array will then be used as the task's stack, removing the need for the stack to be allocated dynamically.</td></tr>
    <tr><td class="paramname">pxTaskBuffer</td><td>Must point to a variable of type StaticTask_t, which will then be used to hold the task's data structures, removing the need for the memory to be allocated dynamically.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>If neither puxStackBuffer nor pxTaskBuffer are NULL, then the task will be created and a handle to the created task is returned. If either puxStackBuffer or pxTaskBuffer are NULL then the task will not be created and NULL is returned.</dd></dl>
<p>Example usage: </p><div class="fragment"><div class="line">   <span class="comment">// Dimensions of the buffer that the task being created will use as its stack.</span></div>
<div class="line">   <span class="comment">// NOTE:  This is the number of words the stack will hold, not the number of</span></div>
<div class="line">   <span class="comment">// bytes.  For example, if each stack item is 32-bits, and this is set to 100,</span></div>
<div class="line">   <span class="comment">// then 400 bytes (100 * 32-bits) will be allocated.</span></div>
<div class="line"><span class="preprocessor">#define STACK_SIZE 200</span></div>
<div class="line"> </div>
<div class="line">   <span class="comment">// Structure that will hold the TCB of the task being created.</span></div>
<div class="line">   <a class="code hl_struct" href="structx_s_t_a_t_i_c___t_c_b.html">StaticTask_t</a> xTaskBuffer;</div>
<div class="line"> </div>
<div class="line">   <span class="comment">// Buffer that the task being created will use as its stack.  Note this is</span></div>
<div class="line">   <span class="comment">// an array of StackType_t variables.  The size of StackType_t is dependent on</span></div>
<div class="line">   <span class="comment">// the RTOS port.</span></div>
<div class="line">   <a class="code hl_typedef" href="portmacro_8h.html#a84e9a8ba132feed0b2401c1f4e2ac63c">StackType_t</a> xStack[ STACK_SIZE ];</div>
<div class="line"> </div>
<div class="line">   <span class="comment">// Function that implements the task being created.</span></div>
<div class="line">   <span class="keywordtype">void</span> vTaskCode( <span class="keywordtype">void</span> * pvParameters )</div>
<div class="line">   {</div>
<div class="line">       <span class="comment">// The parameter value is expected to be 1 as 1 is passed in the</span></div>
<div class="line">       <span class="comment">// pvParameters value in the call to xTaskCreateStatic().</span></div>
<div class="line">       <a class="code hl_define" href="_free_r_t_o_s_8h.html#a228c70cd48927d6ab730ed1a6dfbe35f">configASSERT</a>( ( uint32_t ) pvParameters == 1UL );</div>
<div class="line"> </div>
<div class="line">       <span class="keywordflow">for</span>( ;; )</div>
<div class="line">       {</div>
<div class="line">           <span class="comment">// Task code goes here.</span></div>
<div class="line">       }</div>
<div class="line">   }</div>
<div class="line"> </div>
<div class="line">   <span class="comment">// Function that creates a task.</span></div>
<div class="line">   <span class="keywordtype">void</span> vOtherFunction( <span class="keywordtype">void</span> )</div>
<div class="line">   {</div>
<div class="line">       <a class="code hl_struct" href="structtsk_task_control_block.html">TaskHandle_t</a> xHandle = NULL;</div>
<div class="line"> </div>
<div class="line">       <span class="comment">// Create the task without using any dynamic memory allocation.</span></div>
<div class="line">       xHandle = xTaskCreateStatic(</div>
<div class="line">                     vTaskCode,       <span class="comment">// Function that implements the task.</span></div>
<div class="line">                     <span class="stringliteral">&quot;NAME&quot;</span>,          <span class="comment">// Text name for the task.</span></div>
<div class="line">                     STACK_SIZE,      <span class="comment">// Stack size in words, not bytes.</span></div>
<div class="line">                     ( <span class="keywordtype">void</span> * ) 1,    <span class="comment">// Parameter passed into the task.</span></div>
<div class="line">                     <a class="code hl_define" href="task_8h.html#a94ed0b9b3b4e8ccc859c322f18583e67">tskIDLE_PRIORITY</a>,<span class="comment">// Priority at which the task is created.</span></div>
<div class="line">                     xStack,          <span class="comment">// Array to use as the task&#39;s stack.</span></div>
<div class="line">                     &amp;xTaskBuffer );  <span class="comment">// Variable to hold the task&#39;s data structure.</span></div>
<div class="line"> </div>
<div class="line">       <span class="comment">// puxStackBuffer and pxTaskBuffer were not NULL, so the task will have</span></div>
<div class="line">       <span class="comment">// been created, and xHandle will be the task&#39;s handle.  Use the handle</span></div>
<div class="line">       <span class="comment">// to suspend the task.</span></div>
<div class="line">       <a class="code hl_function" href="task_8h.html#a84d4e660b04630be2939d91b3c2412f8">vTaskSuspend</a>( xHandle );</div>
<div class="line">   }</div>
<div class="ttc" id="a_free_r_t_o_s_8h_html_a228c70cd48927d6ab730ed1a6dfbe35f"><div class="ttname"><a href="_free_r_t_o_s_8h.html#a228c70cd48927d6ab730ed1a6dfbe35f">configASSERT</a></div><div class="ttdeci">#define configASSERT(x)</div><div class="ttdef"><b>Definition:</b> <a href="_free_r_t_o_s_8h_source.html#l00264">FreeRTOS.h:264</a></div></div>
<div class="ttc" id="atask_8h_html_a84d4e660b04630be2939d91b3c2412f8"><div class="ttname"><a href="task_8h.html#a84d4e660b04630be2939d91b3c2412f8">vTaskSuspend</a></div><div class="ttdeci">void vTaskSuspend(TaskHandle_t xTaskToSuspend) PRIVILEGED_FUNCTION</div></div>
<div class="ttc" id="atask_8h_html_a94ed0b9b3b4e8ccc859c322f18583e67"><div class="ttname"><a href="task_8h.html#a94ed0b9b3b4e8ccc859c322f18583e67">tskIDLE_PRIORITY</a></div><div class="ttdeci">#define tskIDLE_PRIORITY</div><div class="ttdef"><b>Definition:</b> <a href="task_8h_source.html#l00180">task.h:180</a></div></div>
</div><!-- fragment --> </div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6 </li>
  </ul>
</div>
</body>
</html>
